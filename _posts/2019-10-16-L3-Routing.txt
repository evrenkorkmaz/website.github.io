---

title: Layer3 Routing ve Protokolleri
date: 2019-07-14T21:04:00+00:00

layout: post

categories:

---

# Layer3 Routing ve Protokolleri

Routing iþlemi Layer3 cihazlarda çalýþan ve gelen paketleri nereye gönderileceðini karar vermesine yardýmcý olan bir yapýdýr.

Temel olarak 3 çeþidi vardýr:
- Static Routing
- Default Routing
- Dynamic Routing

# Static Routing

Manuel olarak gelen paketleri nereye yönlendirebileceðimizi ayarlayabildiðimiz bir routing türüdür.
Router'lar içerisinde routing table oluþturulur. Bu tabloya göre yönlendirme yapýlýr.

Avantajlarý: 
- Gelen paketleri nereye yönlendireceðini seçebildiðimiz için güvenlidir.
- Routerlar arasý bant geniþliði kullanýlmaz.

Dezavantajlarý: 
- Büyük networklerde her bir router tek tek yapýlandýrýlmasý ve routing table oluþturulmasý gerektiði için zahmetli bir iþtir.
- Adminin topolojiye hakim olmasý gerekmektedir yada yeni bir admin geldiði zaman topolojiyi tam olarak öðrenmesi gerekmektedir.

# Default Routing 

Bu routing türü, gelen paketleri bir sonraki router'a(next hop) yönlendirir. Hangi paketin kime ait olduðuna bakmaz, sadece bir sonraki router'a yollar.
Genellikle Stub Router'larda kullanýlýr.
Stub Router: genellikle diðer networklere ulaþmak için sadece bir yolu olan routerlardýr.

# Dynamic Routing 

Bu routing türü otomatik olarak routing table'daki duruma göre yönlendirme yapar. Dynamic Routing'de network'ün keþfi ve yönlendirme mekanizmasý için protokoller kullanýlýr.
Eðer aðda bir router düþerse hedefe ulaþmak için otomatik rota oluþturabilir.

Avantajlarý : 
- Configüre etmesi kolay
- Uzaktaki hedefe en kýsa yoldan gitmek ve keþfetmek için ideal.
- Topoloji deðiþirse otomatik olarak adapte olur.

Dezavantaj:
- Komþu cihazlara daha yüksek bant geniþliði lazým.
- Static Routing'den daha az güvenli.

Routing Protokolleri IGP(Interor Gateway Protocol) ve EGP (Exterior Gateway Protocol) olmak üzere temelde ikiye ayrýlýrlar.
IGP : Ýç networkler yani ayný AS(Otonom sistemler) içerisinde kullanýlan routing protokollerine denir.
EGP : Networkler arasý (AS'ler arasý) kullanýlan protokllere verilen isimdir.

# Dynamic Routing Protokolleri

# RIP (Routing Information Protokol)

- RIP temel olarak Bellman-Ford algoritmasýný kullanýr.
- AD(Administrative Distanca - Yönetim Mesafesi) deðeri 120'dir
AD: Router'in komþu routera ulaþmasý için gereken yollarý numaralandýrarak sýnýflandýrmasýdýr.
- Yol seçiminde max hop 15'dir
- 30 Saniyede bir güncelleme paketi yollar.

# RIPv1
- Kimlik doðrulama özelliði yoktur.
- Classful çalýþýr.
Classful: Ip adreslerinde subnet bilgisi bulunmaz.Gelen paketlerin ait olduklarý sýnýfa göre subnet atar.
Subnet Class'larý:
 A - 10.0.0.0 ile 10.255.255.255 arasý
 B - 172.16.0.0 ile 172.31.255.255 arasý
 C- 192.168.0.0 ile 192.168.255.255 arasý ...

# RIPv2

RIPv1 ile ayný çalýþma mantýðýna sahiptir. Ek olarak RIPv1 de eksik olan özellikler eklenerek geliþtirilmiþtir.
Ek olarak gelen özellikler: 
- Classles yönlendirme: Subnet mask bilgisi ekleyebilir hale getirilmiþtir. (cidr ve vlsm destekler)
- Kimlik doðrualama özelliði gelmiþtir.

# IGRP ve EIGRP 
Cisco'nun geliþtirdiði ve sadece cisco cihazlarda çalýþabilen bir Dynamic Routing protokolüdür.

# IGRP
- RIPv1'e bazý özellikler ekleyerek geliþtirilmiþ bir protokoldür.
- RIP gibi Classful protokoldür.
- Max hop sayýsý 255'dir.
- Yönlendirme için sadece hop sayýsýna bakmaz.
- RIP'ten farklý olarak hat geçikmesi,bant geniþliði, güvenilirlik ve yük durumuda metrik olarak alýnýr ve routing iþlemine bu metriklerle karar verir.

# EIGRP
- Max hop sayýsý 224'dür.
- MD5 Kripto algoritmasý kullanarak router'lar arasý þifreli kimlik doðrulamasý ile güvenliði arttýrýr.
- Algoritma olarak DUAL(Diffused-Update-Algorithm) kullanýr.
- Yönlendirme hesaplandýktan sonra problem oluþmasý durumunda önceden hesaplanmýþ yedek yoldan gider.
- Routing table'da deðiþiklik olursa bütün tabloyu deðil sadece deðiþikliði iletir.

# OSPF (Open Shortest Path First)
- RIP'in eksikleri gidermek ve geliþtirilmek için yapýlan bir protokoldür.
- RIP'in aksine Link-State (Hat Kontrolü) protokolü olarak tasarlanmýþtýr.
- Link State yönlendirme protokolleri topolojinin tamamýný görebildiði gibii að deðiþikliðinde "Triggered Update" gönderir.
- Buna göre router'lar aðdaki iki nokta arasý tüm yollarý öðrendikten sonra SPF(Shotest path first) algoritmasý ile hangi yolun en iyi olduðuna karar verir.
- Link State Refresh (Hat Durumu Güncellemesi) denen güncelleme paketlerini 30dk'da bir yollar.

# BGP (Border Gateway Protokol)
- EGP Protokolüdür. Bu yüzden IGP routing protokollerinden farklý çalýþýr.
- IGP protokollerinden RIP, OSPF, EIGRP gibi protokoller metrik olarak hop count, bant geniþliði vs. kullanýr. 
BGP bunun aksine "Path Attribute" (gönderilen her bir paketin hangi hattan gönderileceðine, AS’den AS’ye geçerken ne gibi deðiþimlere uðrayacaðýna vs. karar veren yapýlar) kullanarak trafik akýþýný kontrol etmeyi bir routing protokolüdür.
- BGP de kendi içinde IBGP ve EBGP olarak ikiye ayrýlýr. 
Eðer BGP protokolü farklý AS’ler arasýnda çalýþýyorsa buna EBGP,
Ayný AS içerisinde BGP kullanýlýyorsa buna IBGP denir. 
- Taþýma protokolü olarak TCP'yi kullanýr.
- BGP kullanan router 3 tane tablo tutar
Neighbor Table: Router'a direk baðlý olan komþu router'lar
BGP Table: Komþulardan aldýðý network bilgilerini tutar.
IP Routing Table: BGP tablosundan alýnan rotalarýn önerilen rota olup olmadýðýný kontrolünü-elemesini yapýp tutar. BGP hangi networke nasýl ulaþacaðýný bu tablodan bakar.


# MPLS (Multi Protocol Label Switching - Çoklu Protokol Etiket Anahtalama)
- MPLS yüksek derecede ölçeklenebilir ve protokolden baðýmsýz bir bilgi taþýma sistemidir.
- MPLS aðlarýnda bilgi paketlerine etiketler atanýr ve paket aktarým iþlemi paketin içeriðinden baðýmsýz olarak yalnýzca bu etiketlerin içeriklerine baðlý olarak yapýlýr. 
- 

# IS-IS (Intermediate System to Intermediate System)
- Büyük ölçekli aðlarda daha etkili bir IGP protokolüdür.
- OSI referans modelini referans alarak çalýþýr.
- Geniþ domainleri alt domainlere ayýrarak(area'lar ve sub domainlere) bölerek ölçeklendirme saðlayabilir.
- Yönlendirmeler bu area'lar içerisinde veya arasýnda gerçekleþir.
- Area içerisinde yönlendirme L1 yönlendirme.
- Ayný domain içerisinde bulunan area'lar içerisindeki yönlendirme L2 yönlendirmedir.
L1 Routing:
Ayný area içerisindeki cihazlar arasýnda yapýlan yönlendirmedir.L1 router'lar sadece L1 ve L1/L2 routerlar ile komþuluk kurar. Area içerisinde L1 LDS (Layer1 Link-State Database) tutar bu databasede komþuluk bilgilerini tutar. Baþka bir area'ya paket yollanacaðýnda yollayamaz, L2-LSD olan cihaza yönlendirir.
L2 Routing: 
Farklý area'lar arasý yönlendirmedir. L2 yönlendirme yapancihazlar L2 ve L1/L2 router'lar ile komþuluk kurar. Sadece L2-LSD tutarlar. Bu yüzden area içi yönlendirmeyi nasýl yapacaðýný bilemez.
L1/L2 Routing: 
Cisco cihazlarda varsayýlan mod olarak bulunur. Bu cihazlarda L1 ve L2 routing için 2 adte LSD bulundurur. Bu cihazlar hem area içi hemde area dýþý yönlendirme yapabildiðinden backbone(omurga) olarak bilinir.



 



